<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Judge Scoring Panel - Juris AI</title>
    <link rel="stylesheet" href="../css/scoring-panel.css">
</head>
<body>
    <!-- Judge Scoring Panel (Floating, Draggable) -->
    <div id="judge-scoring-panel" class="scoring-panel">
        <div class="panel-header" id="panel-header">
            <h3>‚öñÔ∏è Judge Scoring Panel</h3>
            <button class="btn-minimize" id="btn-minimize">_</button>
        </div>
        
        <!-- Team Selection -->
        <div class="team-selection">
            <label>Select Team to Score:</label>
            <div class="team-buttons">
                <button class="btn-team petitioner" id="btn-score-petitioner" onclick="scoring.selectTeam('petitioner')">
                    Petitioner
                </button>
                <button class="btn-team respondent" id="btn-score-respondent" onclick="scoring.selectTeam('respondent')">
                    Respondent
                </button>
            </div>
            <p id="selected-team-display" class="selected-team">No team selected</p>
        </div>

        <!-- Scoring Criteria -->
        <div class="scoring-criteria" id="scoring-criteria">
            <div class="criterion" data-criterion="legal_reasoning">
                <label class="criterion-label">
                    <span class="criterion-name">Legal Reasoning</span>
                    <span class="criterion-desc">Quality of legal arguments</span>
                </label>
                <div class="slider-container">
                    <input type="range" min="1" max="5" value="3" class="score-slider" id="legal-reasoning">
                    <div class="score-labels">
                        <span>1</span>
                        <span>2</span>
                        <span>3</span>
                        <span>4</span>
                        <span>5</span>
                    </div>
                </div>
                <span class="score-value" id="lr-value">3</span>
            </div>

            <div class="criterion" data-criterion="citation_format">
                <label class="criterion-label">
                    <span class="criterion-name">Citation Format</span>
                    <span class="criterion-desc">Proper case and statute citations</span>
                </label>
                <div class="slider-container">
                    <input type="range" min="1" max="5" value="3" class="score-slider" id="citation-format">
                    <div class="score-labels">
                        <span>1</span>
                        <span>2</span>
                        <span>3</span>
                        <span>4</span>
                        <span>5</span>
                    </div>
                </div>
                <span class="score-value" id="cf-value">3</span>
            </div>

            <div class="criterion" data-criterion="courtroom_etiquette">
                <label class="criterion-label">
                    <span class="criterion-name">Courtroom Etiquette</span>
                    <span class="criterion-desc">Professionalism and decorum</span>
                </label>
                <div class="slider-container">
                    <input type="range" min="1" max="5" value="3" class="score-slider" id="courtroom-etiquette">
                    <div class="score-labels">
                        <span>1</span>
                        <span>2</span>
                        <span>3</span>
                        <span>4</span>
                        <span>5</span>
                    </div>
                </div>
                <span class="score-value" id="ce-value">3</span>
            </div>

            <div class="criterion" data-criterion="responsiveness">
                <label class="criterion-label">
                    <span class="criterion-name">Responsiveness</span>
                    <span class="criterion-desc">Answers judge questions</span>
                </label>
                <div class="slider-container">
                    <input type="range" min="1" max="5" value="3" class="score-slider" id="responsiveness">
                    <div class="score-labels">
                        <span>1</span>
                        <span>2</span>
                        <span>3</span>
                        <span>4</span>
                        <span>5</span>
                    </div>
                </div>
                <span class="score-value" id="resp-value">3</span>
            </div>

            <div class="criterion" data-criterion="time_management">
                <label class="criterion-label">
                    <span class="criterion-name">Time Management</span>
                    <span class="criterion-desc">Effective use of allocated time</span>
                </label>
                <div class="slider-container">
                    <input type="range" min="1" max="5" value="3" class="score-slider" id="time-management">
                    <div class="score-labels">
                        <span>1</span>
                        <span>2</span>
                        <span>3</span>
                        <span>4</span>
                        <span>5</span>
                    </div>
                </div>
                <span class="score-value" id="tm-value">3</span>
            </div>
        </div>

        <!-- Total Score Preview -->
        <div class="total-preview">
            <div class="total-score-display">
                <span class="total-label">Total Score</span>
                <span class="total-value" id="total-score">3.0</span>
                <span class="total-max">/ 5.0</span>
            </div>
            <div class="score-bar-container">
                <div class="score-bar" id="score-bar" style="width: 60%"></div>
            </div>
        </div>

        <!-- Written Feedback -->
        <div class="feedback-section">
            <label for="written-feedback">Written Feedback (Optional)</label>
            <textarea id="written-feedback" placeholder="Enter detailed feedback for the team..."></textarea>
        </div>

        <!-- Strengths & Areas for Improvement -->
        <div class="feedback-section">
            <label>Strengths (comma-separated)</label>
            <input type="text" id="strengths" placeholder="e.g., Strong legal research, Clear argument structure">
        </div>

        <div class="feedback-section">
            <label>Areas for Improvement (comma-separated)</label>
            <input type="text" id="areas-for-improvement" placeholder="e.g., More case citations, Better time allocation">
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="btn secondary" id="save-draft" onclick="scoring.saveDraft()">
                üíæ Save Draft
            </button>
            <button class="btn primary" id="submit-score" onclick="scoring.submitScore()">
                ‚úÖ Submit Score
            </button>
        </div>

        <!-- Score Status -->
        <div class="score-status" id="score-status">
            <span class="status-indicator draft">Draft</span>
        </div>
    </div>

    <!-- Score Display Panel (For all users to see submitted scores) -->
    <div id="scores-display-panel" class="scores-display-panel">
        <h3>üìä Round Scores</h3>
        <div id="scores-container" class="scores-container">
            <p class="no-scores">No scores submitted yet</p>
        </div>
    </div>

    <script src="../js/judge-scoring-controller.js"></script>
    <script>
        // Initialize scoring controller with round ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const roundId = urlParams.get('round_id') || 1;
        const scoring = new JudgeScoringController(roundId);
    </script>
</body>
</html>
