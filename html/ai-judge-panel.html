<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Judge Panel - Juris AI</title>
    <link rel="stylesheet" href="../css/ai-judge-panel.css">
</head>
<body>
    <!-- AI Judge Panel -->
    <div id="ai-judge-panel" class="ai-judge-panel">
        <div class="panel-header">
            <h3>ü§ñ AI Judge</h3>
            <button class="btn-minimize" onclick="aiJudgeController.toggleMinimize()">_</button>
        </div>
        
        <div class="panel-content">
            <!-- Argument Input -->
            <div class="input-section">
                <label for="ai-argument-input">Submit Argument for AI Review</label>
                <textarea 
                    id="ai-argument-input" 
                    placeholder="Type your argument here... e.g., 'My Lord, Puttaswamy established privacy as a fundamental right under Article 21...'"
                    maxlength="5000"
                ></textarea>
                <div class="char-counter">
                    <span id="char-count">0</span> / 5000 characters
                </div>
                
                <div class="team-selection">
                    <label>Team Side:</label>
                    <div class="side-buttons">
                        <button class="side-btn petitioner" id="btn-ai-petitioner" onclick="aiJudgeController.selectSide('petitioner')">
                            Petitioner
                        </button>
                        <button class="side-btn respondent" id="btn-ai-respondent" onclick="aiJudgeController.selectSide('respondent')">
                            Respondent
                        </button>
                    </div>
                </div>
                
                <button class="btn primary" id="btn-ai-evaluate" onclick="aiJudgeController.submitArgument()" disabled>
                    üéØ Get AI Feedback
                </button>
            </div>

            <!-- AI Feedback Display -->
            <div id="ai-feedback-display" class="ai-feedback-display hidden">
                <div class="feedback-header">
                    <h4>AI Evaluation Results</h4>
                    <span class="timestamp" id="feedback-timestamp"></span>
                </div>
                
                <!-- Behavior Badges -->
                <div class="behavior-badges">
                    <div class="badge" id="badge-my-lord">
                        <span class="badge-icon">üôè</span>
                        <span class="badge-text">My Lord</span>
                        <span class="badge-status" id="status-my-lord">‚úó</span>
                    </div>
                    <div class="badge" id="badge-scc">
                        <span class="badge-icon">üìö</span>
                        <span class="badge-text">SCC Format</span>
                        <span class="badge-status" id="status-scc">‚úó</span>
                    </div>
                    <div class="badge" id="badge-cites">
                        <span class="badge-icon">‚öñÔ∏è</span>
                        <span class="badge-text">Cites Case</span>
                        <span class="badge-status" id="status-cites">‚úó</span>
                    </div>
                    <div class="badge" id="badge-precedent">
                        <span class="badge-icon">üîó</span>
                        <span class="badge-text">Uses Precedent</span>
                        <span class="badge-status" id="status-precedent">‚úó</span>
                    </div>
                </div>

                <!-- Score Bars -->
                <div class="score-section">
                    <h5>Scores</h5>
                    
                    <div class="score-item">
                        <span class="score-label">Legal Accuracy</span>
                        <div class="score-bar-container">
                            <div class="score-bar" id="bar-legal" style="width: 0%"></div>
                        </div>
                        <span class="score-value" id="score-legal">0/5</span>
                    </div>
                    
                    <div class="score-item">
                        <span class="score-label">Citation</span>
                        <div class="score-bar-container">
                            <div class="score-bar" id="bar-citation" style="width: 0%"></div>
                        </div>
                        <span class="score-value" id="score-citation">0/5</span>
                    </div>
                    
                    <div class="score-item">
                        <span class="score-label">Etiquette</span>
                        <div class="score-bar-container">
                            <div class="score-bar" id="bar-etiquette" style="width: 0%"></div>
                        </div>
                        <span class="score-value" id="score-etiquette">0/5</span>
                    </div>
                    
                    <div class="score-item">
                        <span class="score-label">Structure</span>
                        <div class="score-bar-container">
                            <div class="score-bar" id="bar-structure" style="width: 0%"></div>
                        </div>
                        <span class="score-value" id="score-structure">0/5</span>
                    </div>
                    
                    <div class="score-item">
                        <span class="score-label">Persuasiveness</span>
                        <div class="score-bar-container">
                            <div class="score-bar" id="bar-persuasive" style="width: 0%"></div>
                        </div>
                        <span class="score-value" id="score-persuasive">0/5</span>
                    </div>
                </div>

                <!-- AI Feedback Text -->
                <div class="feedback-text">
                    <h5>Feedback</h5>
                    <p id="ai-feedback-text"></p>
                </div>

                <!-- Next Question -->
                <div class="next-question">
                    <h5>Next Question</h5>
                    <p id="ai-next-question"></p>
                </div>

                <!-- Judge Actions -->
                <div id="judge-actions" class="judge-actions hidden">
                    <button class="btn official" onclick="aiJudgeController.markOfficial()">
                        ‚úÖ Mark as Official Score
                    </button>
                </div>
            </div>

            <!-- Evaluation History -->
            <div class="history-section">
                <h5>Previous Evaluations</h5>
                <div id="eval-history" class="eval-history">
                    <p class="no-history">No evaluations yet</p>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/ai-judge-controller.js"></script>
    <script>
        // Initialize with round ID and team ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const roundId = urlParams.get('round_id') || 1;
        const teamId = urlParams.get('team_id') || 1;
        const aiJudgeController = new AIJudgeController(roundId, teamId);
    </script>
</body>
</html>
