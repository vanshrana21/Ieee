<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - LegalAI Research</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/dashboard-student.css">
    
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>âš–ï¸ Menu</h2>
        </div>
        <nav class="sidebar-nav">
            <a href="./dashboard-student.html" class="nav-item active">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-text">Dashboard</span>
            </a>
            <a href="#" class="nav-item" onclick="event.preventDefault(); window.dashboardStudent.startStudying();">
                <span class="nav-icon">ğŸ“˜</span>
                <span class="nav-text">Start Studying</span>
            </a>
            <a href="#" class="nav-item" onclick="event.preventDefault(); window.dashboardStudent.openCaseSimplifier();">
                <span class="nav-icon">ğŸ“š</span>
                <span class="nav-text">Case Simplifier</span>
            </a>
            <a href="#" class="nav-item" onclick="event.preventDefault(); window.dashboardStudent.practiceAnswers();">
                <span class="nav-icon">âœï¸</span>
                <span class="nav-text">Answer Writing Practice</span>
            </a>
            <a href="#" class="nav-item" onclick="event.preventDefault(); window.dashboardStudent.openNotes();">
                <span class="nav-icon">ğŸ“</span>
                <span class="nav-text">My Notes</span>
            </a>
            <a href="#" class="nav-item" onclick="event.preventDefault(); alert('Settings coming soon!');">
                <span class="nav-icon">âš™ï¸</span>
                <span class="nav-text">Settings</span>
            </a>
            <div class="nav-divider"></div>
            <a href="#" class="nav-item nav-logout" onclick="event.preventDefault(); handleLogout();">
                <span class="nav-icon">ğŸšª</span>
                <span class="nav-text">Logout</span>
            </a>
        </nav>
    </aside>

    <!-- Sidebar Overlay (for mobile) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Wrapper -->
    <div class="main-wrapper" id="mainWrapper">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="navbar-content">
                <div class="navbar-left">
                    <!-- Hamburger Button -->
                    <button class="hamburger-btn" id="hamburgerBtn" aria-label="Toggle menu">
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                    </button>
                    
                    <div class="logo">
                        âš–ï¸ LegalAI Research
                    </div>
                </div>
                <button class="logout-btn" onclick="handleLogout()">Logout</button>
            </div>
        </nav>

        <!-- Main Container -->
        <div class="container">
            <!-- Welcome Section -->
            <div class="welcome-section">
                <div class="welcome-content">
                    <h1>Welcome back<span id="studentName"></span>! ğŸ‘‹</h1>
                    <div class="student-info">
                        <!-- Add after welcome section, before subject progress -->
<div class="search-section">
    <div class="search-container">
        <input 
            type="text" 
            id="searchInput" 
            class="search-input" 
            placeholder="Search subjects, cases, topics, practice questions..."
            aria-label="Search content"
        >
        <button id="searchButton" class="search-button">
            ğŸ” Search
        </button>
    </div>
    
    <!-- Optional: Filter toggles -->
    <div class="search-filters">
        <label class="filter-label">
            <input type="checkbox" class="content-type-filter filter-checkbox" value="subject" checked>
            Subjects
        </label>
        <label class="filter-label">
            <input type="checkbox" class="content-type-filter filter-checkbox" value="learn" checked>
            Learn
        </label>
        <label class="filter-label">
            <input type="checkbox" class="content-type-filter filter-checkbox" value="case" checked>
            Cases
        </label>
        <label class="filter-label">
            <input type="checkbox" class="content-type-filter filter-checkbox" value="practice" checked>
            Practice
        </label>
    </div>
    
    <!-- Search results container -->
    <div id="searchResults" class="search-results-container"></div>
</div>

                        <!-- Dynamic badges populated by JavaScript -->
                    </div>
                    <p class="motivation-text">Let's prepare smarter today and ace those exams! ğŸ¯</p>
                </div>
            </div>

            <!-- Primary Action Cards -->
            <div class="section-title">
                âš¡ Quick Actions
            </div>
            <div class="primary-actions">
                <div class="action-card" onclick="window.dashboardStudent.startStudying()">
                    <span class="action-icon">ğŸ“˜</span>
                    <h3>Start Studying</h3>
                    <p>Access subject-wise materials: Constitutional Law, Criminal Law, Contracts & more</p>
                </div>

                <div class="action-card" onclick="window.dashboardStudent.openCaseSimplifier()">
                    <span class="action-icon">ğŸ“š</span>
                    <h3>Case Simplifier</h3>
                    <p>Get simplified breakdowns: Facts, Issues, Judgment, Ratio Decidendi & Exam Tips</p>
                </div>

                <div class="action-card" onclick="window.dashboardStudent.practiceAnswers()">
                    <span class="action-icon">âœï¸</span>
                    <h3>Answer Writing Practice</h3>
                    <p>Practice 5-mark and 10-mark answers with AI-powered feedback</p>
                </div>

                <div class="action-card" onclick="window.dashboardStudent.openNotes()">
                    <span class="action-icon">ğŸ“</span>
                    <h3>My Notes</h3>
                    <p>Organize case-linked and subject-specific notes in one place</p>
                </div>
            </div>

            <!-- Two Column Layout: AI Assistant + Progress -->
            <div class="two-column">
                <!-- AI Study Assistant -->
                <div class="ai-section">
                    <div class="ai-header">
                        <span style="font-size: 32px;">ğŸ¤–</span>
                        <h2>AI Study Assistant</h2>
                    </div>
                    <div class="ai-input-container">
                        <input 
                            type="text" 
                            class="ai-input" 
                            placeholder="Ask anything about law in simple terms..."
                            id="aiQuery"
                        >
                        <button class="ai-submit" onclick="window.dashboardStudent.askAI()">â¤</button>
                    </div>
                    <div class="example-queries">
                        <div style="font-size: 12px; font-weight: 600; color: #64748b; margin-bottom: 8px;">ğŸ’¡ Try asking:</div>
                        <div class="example-query" onclick="window.dashboardStudent.setQuery(this)">
                            "Explain Article 21 in simple words"
                        </div>
                        <div class="example-query" onclick="window.dashboardStudent.setQuery(this)">
                            "Why is Kesavananda Bharati important for exams?"
                        </div>
                        <div class="example-query" onclick="window.dashboardStudent.setQuery(this)">
                            "What's the difference between IPC and CrPC?"
                        </div>
                        <div class="example-query" onclick="window.dashboardStudent.setQuery(this)">
                            "Summarize doctrine of basic structure"
                        </div>
                    </div>
                </div>

                <!-- Progress & Learning Path -->
                <div class="progress-section">
                    <h2>ğŸ“Š Your Progress</h2>
                    
                    <div class="today-task">
                        <h4>âœ¨ Today's Suggested Task</h4>
                        <p>Review landmark cases in Constitutional Law (Maneka Gandhi, ADM Jabalpur)</p>
                    </div>

                    <!-- Dynamic subject progress container -->
                    <div class="subject-progress">
                        <!-- Populated by dashboard-student.js -->
                    </div>

                    <ul class="checklist">
                        <li class="checklist-item completed" onclick="window.dashboardStudent.toggleCheck(this)">
                            <div class="checkbox checked"></div>
                            <span class="checklist-text">Read Kesavananda Bharati case</span>
                        </li>
                        <li class="checklist-item completed" onclick="window.dashboardStudent.toggleCheck(this)">
                            <div class="checkbox checked"></div>
                            <span class="checklist-text">Revise Articles 14-21</span>
                        </li>
                        <li class="checklist-item" onclick="window.dashboardStudent.toggleCheck(this)">
                            <div class="checkbox"></div>
                            <span class="checklist-text">Complete Contract Law notes</span>
                        </li>
                        <li class="checklist-item" onclick="window.dashboardStudent.toggleCheck(this)">
                            <div class="checkbox"></div>
                            <span class="checklist-text">Practice 10-mark answers</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Recently Viewed / Saved -->
            <div class="recent-section">
                <h2>ğŸ• Recently Viewed</h2>
                <div class="recent-items">
                    <div class="recent-item" onclick="window.dashboardStudent.openItem('case1')">
                        <div class="recent-icon">âš–ï¸</div>
                        <div class="recent-details">
                            <div class="recent-title">Kesavananda Bharati v. State of Kerala</div>
                            <div class="recent-meta">Constitutional Law â€¢ Viewed 2 hours ago</div>
                        </div>
                    </div>

                    <div class="recent-item" onclick="window.dashboardStudent.openItem('note1')">
                        <div class="recent-icon">ğŸ“</div>
                        <div class="recent-details">
                            <div class="recent-title">Article 21 - Right to Life Notes</div>
                            <div class="recent-meta">My Notes â€¢ Updated yesterday</div>
                        </div>
                    </div>

                    <div class="recent-item" onclick="window.dashboardStudent.openItem('case2')">
                        <div class="recent-icon">âš–ï¸</div>
                        <div class="recent-details">
                            <div class="recent-title">Maneka Gandhi v. Union of India</div>
                            <div class="recent-meta">Constitutional Law â€¢ Viewed 3 days ago</div>
                        </div>
                    </div>

                    <div class="recent-item" onclick="window.dashboardStudent.openItem('practice1')">
                        <div class="recent-icon">âœï¸</div>
                        <div class="recent-details">
                            <div class="recent-title">Answer Practice - Basic Structure Doctrine</div>
                            <div class="recent-meta">Practice Session â€¢ Last week</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="quick-card" id="startStudyingCard">...</div>
    <div class="quick-card" id="caseSimplifierCard">...</div>
    <div class="quick-card" id="practiceCard">...</div>
    <div class="quick-card" id="notesCard">...</div>
    <!-- MINIMAL HTML EDITS for dashboard-student.html -->
<!-- Replace Quick Action Cards section with IDs: -->

<div class="quick-actions-grid">
    <div class="quick-action-card" id="startStudyingCard">
        <div class="card-icon">ğŸ“š</div>
        <div class="card-content">
            <h3>Start Studying</h3>
            <p>Access subject-wise materials: Constitutional Law, Criminal Law, Contracts & more</p>
        </div>
    </div>

    <div class="quick-action-card" id="caseSimplifierCard">
        <div class="card-icon">âš–ï¸</div>
        <div class="card-content">
            <h3>Case Simplifier</h3>
            <p>Get simplified breakdowns: Facts, Issues, Judgment, Ratio Decidendi & Exam Tips</p>
        </div>
    </div>

    <div class="quick-action-card" id="practiceModeCard">
        <div class="card-icon">âœï¸</div>
        <div class="card-content">
            <h3>Answer Writing Practice</h3>
            <p>Practice 5-mark and 10-mark answers with AI-powered feedback</p>
        </div>
    </div>

    <div class="quick-action-card" id="myNotesCard">
        <div class="card-icon">ğŸ“</div>
        <div class="card-content">
            <h3>My Notes</h3>
            <p>Organize case-linked and subject-specific notes in one place</p>
        </div>
    </div>
    
    <div class="quick-action-card" id="aiTutorCard">
        <div class="card-icon">ğŸ¤–</div>
        <div class="card-content">
            <h3>AI Tutor</h3>
            <p>Ask questions and get instant curriculum-aware explanations</p>
        </div>
    </div>
</div>

<!-- Replace AI Assistant input section: -->
<div class="ai-assistant-section">
    <h2>ğŸ¤– AI Study Assistant</h2>
    <div class="ai-input-container">
        <input 
            type="text" 
            id="aiInput" 
            placeholder="Ask me anything about your course..."
            maxlength="500"
        >
        <button id="sendAIBtn" class="send-btn">â†’</button>
    </div>
    <div class="suggestion-chips">
        <span class="chip">"Explain Article 21 in simple words"</span>
        <span class="chip">"Why is Kesavananda Bharati important for exams?"</span>
        <span class="chip">"What's the difference between IPC and CrPC?"</span>
        <span class="chip">"Summarize doctrine of basic structure"</span>
    </div>
</div>

<!-- Add container for study plan (if not exists): -->
<div id="studyPlanContainer"></div>


    
    <!-- Load auth.js FIRST (required dependency) -->
    <script src="../js/auth.js"></script>
    <!-- Load dashboard logic SECOND -->
    <script src="../js/dashboard-student.js"></script>
    <script src="../js/search.js"></script>
    <script src="../js/notes.js"></script>

</body>
</html>