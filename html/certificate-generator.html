<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Generator - Juris AI</title>
    <link rel="stylesheet" href="../css/certificate-preview.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <div class="certificate-generator">
        <header class="generator-header">
            <h1>NLSIU Achievement Certificate</h1>
            <p class="subtitle">Generate your official competition certificate</p>
        </header>

        <main class="generator-main">
            <!-- Input Section -->
            <section class="input-section">
                <div class="form-group">
                    <label for="competition-select">Select Competition</label>
                    <select id="competition-select">
                        <option value="">Choose a competition...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="team-select">Select Team</label>
                    <select id="team-select">
                        <option value="">Choose your team...</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="final-rank">Final Rank</label>
                        <input type="number" id="final-rank" min="1" placeholder="e.g., 1 for Winner">
                    </div>

                    <div class="form-group">
                        <label for="total-score">Total Score (0-5)</label>
                        <input type="number" id="total-score" min="0" max="5" step="0.1" placeholder="e.g., 4.7">
                    </div>
                </div>

                <button class="generate-btn" id="generate-btn" onclick="certificateController.generateCertificate()">
                    Generate Certificate
                </button>
            </section>

            <!-- Preview Section -->
            <section class="preview-section" id="preview-section">
                <h2>Certificate Preview</h2>
                <div class="pdf-container">
                    <iframe id="pdf-preview" src="" frameborder="0"></iframe>
                    <div class="pdf-placeholder" id="pdf-placeholder">
                        <div class="placeholder-content">
                            <span class="placeholder-icon">üìú</span>
                            <p>Certificate preview will appear here</p>
                        </div>
                    </div>
                </div>

                <!-- QR Code Section -->
                <div class="qr-section" id="qr-section">
                    <h3>Verification QR Code</h3>
                    <div class="qr-container">
                        <img id="qr-image" src="" alt="Certificate QR Code">
                        <p class="qr-instruction">Scan to verify authenticity</p>
                    </div>
                </div>

                <!-- Actions -->
                <div class="action-buttons" id="action-buttons">
                    <button class="btn-primary" onclick="certificateController.downloadCertificate()">
                        <span>‚¨áÔ∏è</span> Download PDF
                    </button>
                    <button class="btn-secondary" onclick="certificateController.shareToLinkedIn()">
                        <span>üíº</span> Share on LinkedIn
                    </button>
                    <button class="btn-secondary" onclick="certificateController.shareToWhatsApp()">
                        <span>üí¨</span> Share on WhatsApp
                    </button>
                </div>
            </section>
        </main>

        <!-- Status Messages -->
        <div class="status-message hidden" id="status-message"></div>
    </div>

    <script src="../js/certificate-controller.js"></script>
    <script>
        // Set PDF.js worker
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
        
        const certificateController = new CertificateController();
    </script>
</body>
</html>
